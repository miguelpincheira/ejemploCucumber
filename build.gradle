apply plugin: 'java'
apply plugin: 'eclipse' 

defaultTasks = ["clean","test","cucumbertest"]

repositories {
	mavenCentral()
}

dependencies {
    testCompile ('org.mockito:mockito-core:1.10.19') 
	testCompile "junit:junit:4.11" 	
	testCompile 'info.cukes:cucumber-junit:1.2.4'
	testCompile 'info.cukes:cucumber-java:1.2.4'	
	
}

task wrapper(type: Wrapper) {
    gradleVersion = '2.0'
}

def cucumberJavaClassPath = file(projectDir.path + '/src/test/component/java')

sourceSets.test.java.srcDirs += cucumberJavaClassPath


task cucumbertest(type: JavaExec, dependsOn: testClasses) {
    main = "cucumber.api.cli.Main"
    classpath += files(sourceSets.test.runtimeClasspath,cucumberJavaClassPath)
    args += [ '-f', 'html:build/reports/cucumber', '-g', 'cl.nisum.ubb', 'src/test/component/features']
}